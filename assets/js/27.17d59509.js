(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{376:function(e,s,a){"use strict";a.r(s);var t=a(42),n=Object(t.a)({},(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"vuepress"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuepress"}},[e._v("#")]),e._v(" VuePress")]),e._v(" "),a("p",[e._v("这篇文章主要是记录自己在使用VuePress过程中所遇到的问题以及如何一步一步的解决问题。")]),e._v(" "),a("blockquote",[a("p",[e._v("安装vuepress前，请确保你的 Node.js 版本 >= 8")])]),e._v(" "),a("h2",{attrs:{id:"全局安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局安装"}},[e._v("#")]),e._v(" 全局安装")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# 安装\nyarn global add vuepress 或者：npm install -g vuepress\n\n# 新建一个 markdown 文件\necho '# Hello VuePress!' > README.md\n\n# 开始写作\nvuepress dev .\n\n# 构建静态文件\nvuepress build .\n")])])]),a("h4",{attrs:{id:"注意-：vuepress-dev-和vuepress-build-后面的-。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意-：vuepress-dev-和vuepress-build-后面的-。"}},[e._v("#")]),e._v(" 注意 ："),a("code",[e._v("vuepress dev .")]),e._v("和"),a("code",[e._v("vuepress build .")]),e._v("后面的"),a("code",[e._v(".")]),e._v("。")]),e._v(" "),a("h2",{attrs:{id:"在现有项目中安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在现有项目中安装"}},[e._v("#")]),e._v(" 在现有项目中安装")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# 将 vuepress 作为一个本地依赖安装\nyarn add -D vuepress 或者：npm install -D vuepress\n\n# 新建一个 docs 文件夹\nmkdir docs\n\n# 新建一个 markdown 文件\necho '# Hello VuePress!' > docs/README.md\n\n# 开始写作\nnpx vuepress dev docs\n")])])]),a("p",[e._v("接着，在 "),a("code",[e._v("package.json")]),e._v(" 里加一些脚本:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n  "scripts": {\n    "docs:dev": "vuepress dev docs",\n    "docs:build": "vuepress build docs"\n  }\n}\n')])])]),a("p",[e._v("开始写作")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("yarn docs:dev 或者：npm run docs:dev\n")])])]),a("p",[e._v("第一个坑：我的项目就是依赖"),a("code",[e._v("webpack 3.6.0")]),e._v("同时也是用npm安装依赖，然后继续使用npm安装vuepress，然后执行"),a("code",[e._v("npx vuepress dev docs")]),e._v("的时候报错了，上网查了好久也没有解决问题，最后使用yarn安装vuepress成功了。")]),e._v(" "),a("p",[e._v("如果你的现有项目依赖了 webpack 3.x，推荐使用 yarn而不是 npm 来安装 vuepress。")]),e._v(" "),a("p",[e._v("要生成静态的 HTML 文件，运行：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("yarn docs:build 或者：npm run docs:build\n")])])]),a("p",[e._v("默认情况下，文件将会被生成在 "),a("code",[e._v(".vuepress/dist")]),e._v("，也可以通过 "),a("code",[e._v(".vuepress/config.js")]),e._v(" 中的 "),a("code",[e._v("dest")]),e._v(" 字段来修改.")]),e._v(" "),a("p",[e._v("以上步骤都成功以后，就可以在浏览器总看到页面了，接下来就是对页面进行布局")]),e._v(" "),a("h2",{attrs:{id:"主题配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主题配置"}},[e._v("#")]),e._v(" 主题配置")]),e._v(" "),a("p",[e._v("本文是根据VuePress默认主题配置")]),e._v(" "),a("h3",{attrs:{id:"_1-首页"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-首页"}},[e._v("#")]),e._v(" 1.首页")]),e._v(" "),a("p",[e._v("在docs文件夹下创建"),a("code",[e._v(".vuepress文件夹")]),e._v("和"),a("code",[e._v("README.md文件")]),e._v("。(如果以及有了就不要再新建)\n根目录下的README.md文件可以当作首页，在文件中加入下面文字：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("---\nhome: true\nactionText: 快速上手 →\nactionLink: /guide/install/install\n---\n")])])]),a("p",[e._v("可以根据自己的需要添加、删除、修改，这就完成了首页的布局\n"),a("code",[e._v("actionLink: /guide/install/install")]),e._v("就是首页后要显示的下一个页面")]),e._v(" "),a("p",[e._v("接下来在docs文件夹中创建"),a("code",[e._v("guide文件夹")]),e._v("(根据自己的需要命名)。这个文件夹中放的是"),a("code",[e._v("markdown")]),e._v("文件，每一个"),a("code",[e._v("markdown")]),e._v("文件对应一个页面。至于页面之间的跳转和页面导航栏和侧边栏布局在"),a("code",[e._v("config.js")]),e._v("文件中设置。\nVuePress 网站必要的配置文件是 "),a("code",[e._v(".vuepress/config.js")]),e._v("，它应该导出一个 JavaScript 对象：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("module.exports = {\n      title: 'VuePress',\n    description: 'VuePress',\n}\n")])])]),a("p",[e._v("对于上述的配置，运行"),a("code",[e._v("yarn docs:dev")]),e._v("，你应该能看到一个页面，它包含一个页头，里面包含一个标题和一个搜索框。")]),e._v(" "),a("h3",{attrs:{id:"_2-导航栏"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-导航栏"}},[e._v("#")]),e._v(" 2.导航栏")]),e._v(" "),a("p",[e._v("可以通过 "),a("code",[e._v("themeConfig.nav")]),e._v(" 增加一些导航栏链接:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("// .vuepress/config.js\nmodule.exports = {\n  themeConfig: {\n    nav: [       \n           {text: '指南',link:'/guide/install/install'}\n        ]\n  }\n}\n")])])]),a("p",[e._v("当你提供了一个 "),a("code",[e._v("items")]),e._v(" 数组而不是一个单一的 "),a("code",[e._v("link")]),e._v(" 时，它将显示为一个 "),a("code",[e._v("下拉列表")]),e._v(" ：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("module.exports = {\n  themeConfig: {\n    nav: [\n      {\n        text: 'Languages',\n        items: [\n          { text: 'Chinese', link: '/language/chinese/' },\n          { text: 'Japanese', link: '/language/japanese/' }\n        ]\n      }\n    ]\n  }\n}\n")])])]),a("h3",{attrs:{id:"_3-侧边栏"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-侧边栏"}},[e._v("#")]),e._v(" 3.侧边栏")]),e._v(" "),a("p",[e._v("想要使侧边栏（Sidebar）生效，需要配置 "),a("code",[e._v("themeConfig.sidebar")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("// .vuepress/config.js\nmodule.exports = {\n  themeConfig: {\n    sidebar: [\n        {\n            title: '开发指南',\n            collapsable: false, //是否展开\n        },\n          ['./guide/install/install','安装'],\n           ['./guide/started/started','快速上手'],\n        {\n            title: '组件',\n            collapsable: false\n        },\n        ['./guide/icon/icon','icon'],\n    ]\n  }\n}\n")])])]),a("p",[e._v("可以省略 "),a("code",[e._v(".md")]),e._v(" 拓展名，同时以 "),a("code",[e._v("/")]),e._v(" 结尾的路径将会被视为 "),a("code",[e._v("*/README.md")]),e._v("\n如果想要显示地指定链接的文字，使用一个格式为 "),a("code",[e._v("[link, text]")]),e._v(" 的数组。\n具体配置可以根据官网配置："),a("a",{attrs:{href:"https://vuepress.vuejs.org/zh/theme/default-theme-config.html#%E4%BE%A7%E8%BE%B9%E6%A0%8F",target:"_blank",rel:"noopener noreferrer"}},[e._v("默认主题配置"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("这是浏览器显示效果：")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://segmentfault.com/img/remote/1460000017264883",alt:"1.png"}})]),e._v(" "),a("p",[e._v("现在页面基本也搭建完成，可以在页面之间进行切换。下一步是如何在"),a("code",[e._v("markdown")]),e._v("中使用vue组件，也就是在页面中展示自己的项目。")]),e._v(" "),a("h2",{attrs:{id:"在markdown中使用vue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在markdown中使用vue"}},[e._v("#")]),e._v(" 在markdown中使用Vue")]),e._v(" "),a("p",[e._v("在"),a("code",[e._v(".vuepress")]),e._v("中创建"),a("code",[e._v("components")]),e._v("文件夹。\n所有在 "),a("code",[e._v(".vuepress/components")]),e._v(" 中找到的 "),a("code",[e._v("*.vue")]),e._v(" 文件将会自动地被注册为全局的异步组件。")]),e._v(" "),a("p",[e._v("如果需要引入静态文件，可以在"),a("code",[e._v(".vuepress")]),e._v("下新建"),a("code",[e._v("public")]),e._v("文件夹，里面可以放静态文件。")]),e._v(" "),a("p",[e._v("因为本文的案例是展示Icon图标，所有引入了"),a("code",[e._v("svg.js")]),e._v("，"),a("code",[e._v("svg.js")]),e._v("可以在http://www.iconfont.cn/中获取，本文使用"),a("code",[e._v("## symbol引用")]),e._v("具体方法请访问官网。放在"),a("code",[e._v("public")]),e._v("文件夹中，可以在"),a("code",[e._v("components")]),e._v("文件夹中的组件引入。")]),e._v(" "),a("p",[e._v("这是docs文件夹目录结构")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://segmentfault.com/img/remote/1460000017264884",alt:"2.png"}})]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(".\n└─ .vuepress\n   └─ components\n      ├─ demo-1.vue\n      └─ Icon\n         └─ vi-icon.vue\n")])])]),a("p",[e._v("可以直接使用这些组件在任意的 Markdown 文件中（组件名是通过文件名取到的）：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("<demo-1/>\n<Icon-vi-icon/> //文件名和组件名之间同`-`连接\n")])])]),a("p",[e._v("完成这一步以后就可以在页面中看到自己的组件在页面中展示了，但是在运行下面命令进行打包的时候会报错：\n报错原因参考官网文档："),a("a",{attrs:{href:"https://vuepress.vuejs.org/zh/guide/using-vue.html#%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84-api-%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6",target:"_blank",rel:"noopener noreferrer"}},[e._v("浏览器的 API 访问限制"),a("OutboundLink")],1)]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("yarn docs:build 或者：npm run docs:build\n")])])]),a("p",[e._v("解决这个问题只需要在使用Vue组件的"),a("code",[e._v("markdown")]),e._v("文件中使用"),a("code",[e._v("<ClientOnly></ClientOnly>")]),e._v("将组件包裹起来。如：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("<ClientOnly>\n  <Icon-vi-icon/>\n</ClientOnly>\n")])])]),a("p",[e._v("注意：在markdown文件中如果需要给组件名缩进，不要用"),a("code",[e._v("tab")]),e._v("键，会被当做"),a("code",[e._v("markdown")]),e._v("语法解析。")]),e._v(" "),a("p",[e._v("浏览器效果图")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://segmentfault.com/img/remote/1460000017264885",alt:"3.png"}})]),e._v(" "),a("p",[e._v("到这一步，基本上可以在页面中展示自己的组件。下一篇将继续写如何通过Vue组件实现跟："),a("a",{attrs:{href:"http://element-cn.eleme.io/#/zh-CN/component/icon",target:"_blank",rel:"noopener noreferrer"}},[e._v("Element"),a("OutboundLink")],1),e._v("相似的效果。")])])}),[],!1,null,null,null);s.default=n.exports}}]);