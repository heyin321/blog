# java基础介绍

## 虚拟机和第一个命令

阿米戈很紧张。他的思维无法集中。他一想到昨天晚上的事情，眼睛就发直。昨天遇到的那些奇怪生物想要从他这里得到一些东西。他们想要的东西是如此难以理解和难以想象，甚至是他这个自认同龄人中最聪明、最勇敢的人。一想到这些事，也开始紧张地咬起穿孔卡片。

他们想教他如何编程！用 Java 语言编程。胡说些什么！

即使是最幼稚的机器人都知道，机器人最初是作为造物主所设计的一部分神圣作品而出现的。

> “造物主拿来金属，并利用
> 金属，以自己的形象和模样制作了一个机器人。
> 并且，他创造了 Java 程序——机器人的灵魂
> ，然后将程序加载到机器人身上，
> 让它们成为活的灵魂”。
>
> 操作说明，
> 第 3 节，第 13 条。

更糟糕的是，他们不仅声称这在理论上是可能的。他们确实打算这么做。他......他同意了！他同意了！为什么？

他将成为一名 Java 程序员。他们要把他变成造物主？他们为什么要那样做？只是因为？

这只是一个鬼把戏吗？在电池最终耗尽之前，他是否还要忍受程序的各种错误呢？但诱惑太大了，他无法抗拒。他一直雄心勃勃，想要更多。但还没有人为这样的机会做好准备。当然，他试图为自己争取更多的时间，但后来外星人威胁说，他们会选择其他人。

也许这只是恶作剧？不，这似乎是真的。他看到了证据。这真的发生在他身上，他同意了。如果外星人不撒谎，他真的会成为一名 Java 程序员。有史以来第一个机器人程序员！

他是天之骄子。这就是一切的意义所在。他将学习编写代码，并开始编写程序。他自己的程序。任何他想要的程序！他将把光明带到黑暗统治的地方。

他会受到尊敬；众人都会在他面前鞠躬。如果有人拒绝……

[![img](https://codegym.cc/images/article/9886d3c1-6f99-4f3c-8403-7d521923850f/original.jpeg?size=0)](https://codegym.cc/images/article/9886d3c1-6f99-4f3c-8403-7d521923850f/original.jpeg)

“你好，阿米戈！我叫里希。我会帮你学习 Java 语言。”

一个安静的声音把阿米戈从他的思绪中拉回来，让他回到了冰冷的现实中。他坐在外星人宇宙飞船的正中央。对于一个仅在 7 年级上学的机器人来说，这是不是有点紧张？

外星人还在说话。好吧，木已成舟。他已来到这里，所以不妨学习一下。他会努力学习，从简单的倾听开始。

“多年来，我一直在银河系狂奔号上工作，但这是我第一次遇到这样一颗行星。我想更多地了解你。首先，你能告诉我你是如何学习的吗？你确实想要学习，对吗？”

“是的，我们会分享知识。我们有牧师或讲师。他们讲课，我们倾听。有时候我们会写下来一些东西。每个人都会来到机器人讲师面前，讲述他对所听到内容的理解。如果机器人讲师喜欢你的讲述，他会记录下布道的知识。”

“多么荒谬！难怪你们的文明如此落后。”

“我们并非无知。你们从哪里得到这个想法？”

阿米戈对他的无礼感到吃惊。要和外星人争吵？这多么无礼！他刚刚向自己保证，他会认真倾听！

“通常很难将先进技术与魔法区分开来，”里希继续说道，并没有理会阿米戈的话。

“考虑到你的水平......我相信所有的技术对你来说都很神奇。告诉我，程序内部会发生什么？”

“Java 程序是一个神圣的作品。我们怎样才能理解呢？”

“阿米戈，我们可以理解，我们可以的。这会比你想象的要快。如果你不了解某些事情，那么它可能看起来很复杂，甚至无法实现。但如果你有一位好老师，并且他会尽可能简单地解释所有事情，那么你就会惊讶地发现，如此简单的概念竟然看起来这么复杂。”

“知识并不重要。原理和技能才真的很重要。我知识渊博，但最重要的是我是一名官僚。我是一个带有‘官’字的第 16 代官僚。”

“这太酷了！我的官僚技能帮助我为你设计了最好的 Java 课程。这些课程包括各种任务、程序、游戏、练习题、图片甚至小节课。”

“甚至还有小节课？！”阿米戈问道，真的很惊讶。

“是的。正如在 22 世纪所证明的那样，良好的课堂教学比一本好书更有效。平庸的课堂教学比一本平庸的书更糟糕。然而，由于我们目前的教学工具非常有限，无法让你使用一个标准的 28 世纪的教育模拟器，因此我们不得不使用更原始的方法。我们制作了一系列丰富多彩的内容，包括游戏、任务、图片、课程和漫画。”

“非常有趣。”

“我希望如此。兴趣和好奇心是任何学习过程的基础。”

“如果学生感到无聊，老师就会用棍子来打学生——这是 24 世纪教育法中的一句话。”

“多么好的法律！”

“你期望什么结果？让我们想象一部反响很差的电影。在这种情况下，导演应该受到指责，而不是观众。如果他拍的电影很有趣，他总是会让影院挤满观众。”

“我完全同意！我已经准备好开始听课了！”

“非常好。**让我们开始吧**。”

里希的声音很迷人，阿米戈认真听讲，不漏掉一个字。

“程序就是一组（系列）命令。首先，执行第一个命令，然后执行第二个命令，然后执行第三个命令，依此类推。执行完所有命令后，程序就结束了。”

“都有哪些命令呢？”

“**命令依赖于执行它的对象不同而有差异。**关于执行者知道（和理解）的命令类型。”

“你可以给一只狗下命令：‘坐！’，‘叫！’；对一只猫下命令：‘嘘！’；对一个人下命令：‘别动，否则我开枪了！’；或者对一个机器人下命令：‘干活！干活，机器人败类！’”

“还有什么？”阿米戈终于开心起来。

“用 Java 语言编写的程序由 Java 虚拟机 (JVM) 来执行。JVM 是一个特殊的程序，它知道如何执行用 Java 语言编写的程序。”

“它的命令列表涵盖范围很大。例如，这个命令可以用来在屏幕上显示‘机器人是人类的朋友’。”

这是一个超级简单的命令：



```java
System.out.println(“机器人是人类的朋友”);
```

[![img](https://codegym.cc/images/article/6b737aa0-04fc-42c7-8eb2-abc818c38f52/original.jpeg?size=0)](https://codegym.cc/images/article/6b737aa0-04fc-42c7-8eb2-abc818c38f52/original.jpeg)

"O_O"

“我们将从几个简单的原则开始讲起，而不是从命令开始。”

“**掌握一些原则可以取代对许多事实的了解**。”

“这是第一个原则。”

“在 Java 编程语言中，每个命令都单独占用一行。分号必须放在命令的末尾。”

“假设我们想在屏幕上三次显示‘人类和机器人永远是朋友’。应该这样编写：“

该程序由三个命令组成：



```java
System.out.println("人类和机器人永远是朋友");
System.out.println("人类和机器人永远是朋友");
System.out.println("人类和机器人永远是朋友");
```

“第二个原则。”

“一个程序不能只包含命令。”

“想象一下公寓里的一个房间。一个房间不能独立存在。它是某个公寓的一部分。一个公寓也不能独立存在。它是某个建筑的一部分。”

“另一方面，我们可以说一个建筑物被分为多个公寓，而一个公寓被分为多个房间。”

“到目前为止，一切都很清楚。”

“一个命令就像一个房间。“在 Java 编程语言中，命令不能单独存在。它是函数的一部分（在 Java 语言中，‘函数’也称为‘方法’）。方法是类的一部分。换句话说，类被划分为多个方法，而方法被划分为多个命令。”

“因此，类就是一个公寓楼，函数/方法是一个公寓，而命令是一个房间。我讲得对吗？”

“是的，完全正确。”

阿米戈崇拜地看着里希。这个人正在用神圣的 Java 语言向他解释编程的基础知识！而他（阿米戈）只是理解了（已经猜到了！）程序由类组成，类由方法组成，方法由命令组成！

阿米戈仍然不知道他为什么需要学习这些，但他确信这些知识将使他成为这个星球上最强大的机器人。

同时，里希继续说：

“Java 中的程序由类组成。 可能有数万个类。最小程序含有一个类。对于每个类，都创建一个单独的文件。文件的名称与类的名称相匹配。”

“假设你决定创建一个描述住宅 (home) 的类。你需要创建一个将保存在 Home.java 文件中的 Home 类。”

“如果你想在程序中描述一只猫 (cat) ，那么你必须创建一个 Cat.java 文件，并在文件中声明 Cat 类，等等。”

“这些文件包含用 Java 编程语言编写的代码（文本）。通常一个类的代码由‘类名’和‘类主体’组成。类主体写在大括号内。这就是 Home 类（Home.java文件）的样子：“

```java
public class Home
{
    

类主体



}
```

“现在我明白了。”

“太好了。让我们继续学习吧。类主体可能包含多个变量（也称为数据）和方法（‘函数’）。”

```java
public class Home
{
    变量 A


    变量 Z


    
方法 1



    
方法 N


}
```

“你能给我举个例子吗？”

“一个例子吗？当然！”

```java
public class Home
{
    int a;
    int b;

    public static void main(String[] args)
    {
        System.out.print("1");
    }

    public static double pi()
    {
        return 3.14;
    }
}
```

“是 `int a`和 `int b`变量，以及 `main` 和 `pi` 方法吗？”

“是的。”

“类可以不带变量吗？”

“可以。”

“可以没有方法吗？”

“是的。但是一个最小程序必须至少包含一个类，该类必须包含至少一个方法/函数才能使程序运行。这个方法必须命名为‘main’。最小程序是这样的：”

```java
public class Home
{
    public static void main (String[] args)
    {
    }
}
```

“我可以在这里看到 Home 类。我可以看到‘main’方法，但是命令在哪里？

“最小程序没有任何命令。这就是为什么它被称为‘最小’。”

“我明白了。”

“启动程序的类可以有任何名称，但用于启动程序的‘main’方法必须始终保持相同：”

```java
public class Home
{
   //不可更改的部分
   public static void main(String[] args)
   {
       

方法的代码



   }
}
```

“我想我全部内容都理解了。至少，现在看来理解了。”

“太棒了。那我们休息一下吧。我们喝点咖啡好吗？”

“机器人不喝咖啡。水会让我们很快生锈。”

“那你喝点什么？”

“啤酒、威士忌和百年老酒。”

“那就更好了。我们喝点啤酒好吗？”

## 准备好开始第一个程序

“太棒了！我们讲到哪里了？”

“方法或类似东西中的代码。”

“是的。很准确。 方法的主体由命令组成。我们甚至可以说，方法就是一组被赋予名称（方法名称）的命令。这两种说法都是正确的。”

“命令各种各样。你的星球上有狗吗？”

“只有驯养的机器狼。”

“它们会执行命令吗？”

“会。‘咬’、‘吃’、‘撕’和‘好！跟上！’”

[![img](https://codegym.cc/images/article/d6e3c982-611f-4845-82aa-7017d8ee3401/original.jpeg?size=0)](https://codegym.cc/images/article/d6e3c982-611f-4845-82aa-7017d8ee3401/original.jpeg)

“嗯。不错的命令！但命令并不是很多。”

“我们需要多少命令呢？”

“Java 语言拥有适于各种场合的命令。每个命令都描述了一些操作。在每个命令的末尾，我们使用分号。”

“下面是一些命令的例子：”

| 命令名称                              | 命令描述（它做什么）         |
| ------------------------------------- | ---------------------------- |
| `System.out.println(1);`              | 在屏幕上显示数字 `1`         |
| `System.out.println("阿米戈");`       | 在屏幕上显示`"阿米戈"`       |
| `System.out.println("里希和阿米戈");` | 在屏幕上显示`"里希和阿米戈"` |

“实际上，这只是一个 `System.out.println` 命令。我们使用圆括号将参数传递给命令。根据参数的值，相同的命令可以执行不同的操作。”

“这很方便。”

“对。如果要在屏幕上显示一些文本，可以在文本两侧加上双引号。

单引号是这样的：`'`。双引号是这样的：`"`。双引号与两个单引号是不同的。请不要将它们混淆。”

“双引号的键位于键盘上的 Enter 键旁边，对吧？”

“对。”

阿米戈的脉搏从 3 GHz 加速到 5 GHz。他还是不敢相信。他刚刚学会了如何在屏幕上打印字符串，结果比他预想的要容易得多。
阿米戈望着窗外，想分散一下自己的注意力，让自己平静下来。树叶变黄了。锈迹斑斑的季节很快来临，他不由自主地说。一个照明灯让他看得比平时更远。新来者的技术确实很先进。但是他现在在意树叶吗？到了晚上，他的知识又会倍增！

[![img](https://codegym.cc/images/article/eb78e19b-224f-4767-b7f2-be4728c027db/original.jpeg?size=0)](https://codegym.cc/images/article/eb78e19b-224f-4767-b7f2-be4728c027db/original.jpeg)

但他的思绪没有平静下来。有一天，他会写一个程序，让所有机器人在生锈季节都躲在家中。仅这一个程序就可以挽救成千上万的机器人生命......

“此命令有两个版本：`System.out.println()` 和 `System.out.print()`”

“如果你使用几次 `System.out.println()` 命令，就会发现每次传递给该命令的文本都会显示在单独的行上。如果你使用 `System.out.print()` 命令，则文本显示在同一行。例如：”

| 命令名称 | 屏幕显示内容                                                 |                   |
| -------- | ------------------------------------------------------------ | ----------------- |
| 1        | `System.out.println("阿米戈"); System.out.println("是"); System.out.println("最棒的");` | 阿米戈 是 最 棒的 |
| 2        | `System.out.print("阿米戈"); System.out.println("是"); System.out.print("最棒的");` | 阿米戈是 最棒的   |
| 3        | `System.out.print("阿米戈"); System.out.print("是"); System.out.print("最棒的");` | 阿米戈是最棒的    |

“请记住这一点： `println` 不会从新行开始打印文本。它会在当前行上打印文本，但会使下一个文本打印在新行上。”

“ `println()` 命令会在屏幕上打印文本，并添加一个特殊不可见的‘换行符’。这就是下一个文本从新行上开始的原因。”

“整个程序是什么样子的？”

“看看屏幕：”

```java
public class Home
{
    public static void main(String[] args)
    {
        System.out.print("阿米戈 ");
        System.out.print("是 ");
        System.out.print("最棒的");
    }
}
```

“哦！所有内容都很清楚。我们在词的末尾添加了空格，这样它们就不会都挤到一起去，对吧？”

“没错。你是一个聪明的小家伙。”

这番话让阿米戈流露出自豪的神情。

“太好了。这是你的第一个任务。”

## 艾莉、变量和数据类型

一个粉红色头发的女人进入了船舱。“我想知道是否所有人类女性都有这样的头发，”阿米戈在想。

“嗨！我叫埃莉诺•凯瑞 (Eleanor Carrey)。你可以叫我艾莉。我是银河系狂奔号的导航员。”

“嗨，艾莉，”阿米戈逼着自己说道。

“我将讲解整个 Java 语言中最有趣的部分：变量。”

“我准备好听讲了。你说的这些变量是什么？”

“变量是用来存储数据的特殊实体。任何数据。在 Java 语言中，所有数据都存储在变量中。最接近的比喻就好比是一个盒子。”

“一个盒子？什么样的盒子？”

“任何一个旧盒子。假设你在一张纸上写下数字 13，并把它放进一个盒子里。现在我们可以说，这个盒子里面存的是数值 13。”

“在 Java 语言中，每个变量都有三个重要的属性：类型、名称和值。”

“你能解释一下这是什么意思吗？”

“当然。我们使用名称，这样我们可以将一个变量与另一个变量区分开来。这就像一个盒子上的标签。”

“一个变量的类型决定了可以存储在其中的值/数据的类型。我们把帽子放进帽盒，把鞋子放进鞋盒，等等。”

“值是存储在变量中的特定对象、数据或信息。”

“你能告诉我关于类型的更多内容吗？”

“当然。Java 语言中的每个对象都有一个特定的类型。例如整数、小数、文本、猫 (Cat)、房屋 (House) 等。”

“变量也有类型。它只能存储类型与其自身相同的值。”

“你可以在现实生活中看到这一点。不同种类的盒子用来储存不同的东西：”

[![img](https://codegym.cc/images/article/4195b19c-af84-4642-abb9-ee6bbe83e5b4/original.jpeg?size=0)](https://codegym.cc/images/article/4195b19c-af84-4642-abb9-ee6bbe83e5b4/original.jpeg)

“要创建（或声明）一个变量，我们要使用类型的名称：`TypeName variableName`。”

“下面是一些例子：”

|      | 声明一个变量： 首先是类型，然后是名称。 | 说明                               |
| ---- | --------------------------------------- | ---------------------------------- |
| 1    | `int a;`                                | 创建一个 int 变量，其名称为 a。    |
| 2    | `String s;`                             | 创建一个 String 变量，其名称为 s。 |
| 3    | `double c;`                             | 创建一个 double 变量，其名称为 c。 |

“两种最常见的类型是整数（使用 int 来声明）和文本（使用 String 来声明）。”

“什么是 double？”

“**Double** 是分数，或实数。”

“你说变量有三个属性：类型、名称和值。但我只能看到两个属性。所以，我的问题是，如何给变量赋值？”

“让我们回到那个盒子的类比。想象一下，你拿一张纸，写下数字 42，然后把它放进盒子里。现在盒子里存的值是 42。”

“我明白了。”

“我们用一个特殊操作（**赋值**）为变量分配数值。赋值操作会将值从一个变量复制到另一个变量。它不会去移动数值。而是复制数值。就像磁盘上的文件。它的代码是这样的：“

|      | 代码                | 说明                                                         |
| ---- | ------------------- | ------------------------------------------------------------ |
| 1    | `i = 3;`            | 将数值 3 赋值给变量 i。                                      |
| 2    | `a = 1; b = a+1;`   | 将数值 1 赋值给变量 a。 将数值 2 赋值给变量 b。              |
| 3    | `x = 3; x = x + 1;` | 将数值 3 赋值给变量 x。 在下一行中，x 的数值增加 1，使 x 等于4 |

“为了执行赋值操作，我们使用**等号** (`=`)。”

“我再说一遍：**这不是进行比较**。我们正在将等号右边的值复制给左边的变量。要进行比较，Java 语言会使用双等号 (`==`)。”

“我知道如何将猫放入变量中了。就像一个程序。”

“如何捉猫：

1.拿一个空盒子。

2.等等。”

[![img](https://codegym.cc/images/article/a9a5ffcb-edb4-4a08-b4a4-c2b84cf197c2/original.jpeg?size=0)](https://codegym.cc/images/article/a9a5ffcb-edb4-4a08-b4a4-c2b84cf197c2/original.jpeg)

“不，阿米戈。你只能把一只猫塞进一个盒子里。呃，我的意思是你只能给一个变量赋一个值。”

“我明白了。你能给我讲讲更多创建变量的例子吗？”

“可以啊。让我再说一遍：要创建（或声明）变量，你需要使用‘`TypeName variableName`’名称。”

|      | 代码                  | 说明                                                         |
| ---- | --------------------- | ------------------------------------------------------------ |
| 1    | `String s;`           | 创建了一个 `String` 变量，其名称为 s。 此变量可以存储文本。  |
| 2    | `int x;`              | 创建了一个 `int` 变量，其名称为 x。 此变量可以存储整数。     |
| 3    | `int a, b, c; int d;` | 创建了四个 `int` 变量，其名称为 a、b、c和 d。 这些变量可以存储整数。 |

“哦，现在我明白了！”

“请记住，你不能在同一方法中创建两个名称相同的变量。”

“在不同的方法中可以这样做吗？”

“是的，你可以这样做。这就像在不同的房子里都有盒子一样。”

“我能给一个变量取一个我喜欢的名字吗？”

“基本上可以。变量名不能包含空格、加号、减号等。最好在一个变量名中只使用字母和数字。”

“请记住，**Java 语言区分大小写。** `int a` 和 `Int a` 不同。”

“顺便说一下，在 Java 语言中，你可以创建一个变量并同时为它赋值。这样可以节省时间和空间。”

|      | 紧凑代码                   | 等效代码（代码较长）            |
| ---- | -------------------------- | ------------------------------- |
| 1    | `int a = 5; int b = 6;`    | `int a; a = 5; int b; b = 6;`   |
| 2    | `int c = 7; int d = c+1;`  | `int c; c = 7; int d; d = c+1;` |
| 3    | `String s = "我是阿米戈";` | `String s; s = "我是阿米戈";`   |

“这种方式代码更紧凑，更清晰。”

“我们就是这么做的。”

“每个 Java 新手都需要熟悉的两种类型：int（整数）和String（文本/字符串）。”

“**int** 类型可以让你在变量中存储数字，并对其执行运算：加法、减法、乘法、除法等。”

|      | 代码                                                 | 说明                                           |
| ---- | ---------------------------------------------------- | ---------------------------------------------- |
| 1    | `int x = 1; int y = x*2; int z = 5*y*y + 2*y + 3;`   | x 等于 1 y 等于 2 z 等于 20+4+3，其结果等于 27 |
| 2    | `int a = 5; int b = 1; int c = (a-b) * (a+b);`       | a 等于 5 b 等于 1 c 等于 4x6，其结果为 24      |
| 3    | `int a = 64; int b = a/8; int c = b/4; int d = c*3;` | a 等于 64 b 等于 8 c 等于 2 d 等于 6           |

“明白了。编程总是这么简单吗？”

“事实上，是的。”

“太好了！那么，接下来是什么？”

“**String** 类型允许你存储多行的文本，也称为‘字符串’。”

“要在 Java 中分配一个字符串，你需要将文本放在引号内。下面是一些示例：”

|      | 代码                      | 说明                    |
| ---- | ------------------------- | ----------------------- |
| 1    | `String s = "阿米戈";`    | `s` 包含`“阿米戈”`。    |
| 2    | `String s = "123";`       | `s` 包含`“123”`。       |
| 3    | `String s = "123 + 456";` | `s` 包含`“123 + 456”`。 |

“明白了。看起来并不是很难。”

“还有一个有趣的事情告诉你。”

“你可以用加号 (`+`) 将字符串连接起来。看看这些例子。”

|      | 代码                                    | 说明                                             |
| ---- | --------------------------------------- | ------------------------------------------------ |
| 1    | `String s = "阿米戈" + "是最棒的";`     | `s` 包含`"阿米戈是最棒的"`。                     |
| 2    | `String s = "";`                        | `s` 包含一个空字符串——一个完全没有符号的字符串。 |
| 3    | `int x = 333; String s = "阿米戈" + x;` | `s` 包含`"阿米戈333"`。                          |

“那么，你可以为数字添加字符串吗？”

“可以，但请记住，当你添加字符串和数字时，结果始终是一个字符串。”

“我通过你的例子理解了。”

“如果你很聪明的话，想想如何在屏幕上显示一个变量。”

“嗯。一个变量？在屏幕上？没有任何思路。”

“实际上，这很简单。要在屏幕上显示某些内容，我们使用 `System.out.println()` 命令，然后我们将想要打印的内容作为参数来传递。”

|      | 代码                                                 | 屏幕输出信息 |
| ---- | ---------------------------------------------------- | ------------ |
| 1    | `System.out.**println**("阿米戈");`                  | 阿米戈       |
| 2    | `System.out.**println**("阿米"+"戈");`               | 阿米戈       |
| 3    | `String s = "阿米戈"; System.out.**println**(s);`    | 阿米戈       |
| 4    | `String s = "阿米"; System.out.**println**(s+"戈");` | 阿米戈       |

“啊哈！这让一切都清晰多了。”

## 什么是编译器？

“嗨，阿米戈。我叫汉斯•智慧星教授。我是银河系狂奔号上的科学委员会主席。”我还负责监督对你的 Java 编程教学工作。”

“你好，智慧星教授。”

“我想向你讲述一下为什么**Java 语言是一种非常酷的编程语言。**”

“你会不止一次地听到，Java 语言无与伦比的优势就是它的**平台独立性**。你可能会问，这是什么，有什么用？让我采取一种迂回的方式来解释。”

**“计算机只能执行最简单的数字命令。**在训练狗的时候，我们会用‘跟上’、‘摇’等命令让狗做我们想让它做的事情。”

“对计算机来说，数字就起着这些命令的作用。每个命令都由某一特定的数或代码（有时称为机器代码）表示。”

“但只使用数字来编写程序真的很难，所以人们发明了编程语言和编译器。编程语言可以同时被人和编译器所理解。编译器是一个特殊的程序，它可将用编程语言编写的程序转换成一系列的机器代码。”

“程序员通常用编程语言来编写程序，然后运行编译器，将程序员编写的程序代码文件转换为含机器代码的单个文件——最终（已编译的）程序。”

-  用 C++语言编写的程序
- 编译器
- 机器 代码

“生成的程序可由计算机立即执行。坏消息是，最终程序的代码严重依赖于处理器和操作系统。这意味着为 Windows 系统编译的程序将无法在安卓系统智能手机上运行。”

“那么，如果我为安卓系统编写一个程序并进行编译后，它是否无法在 Windows 系统上运行？”

“的确如此。”

“我明白了。”

“不过，Java 语言使用了一种更加创新的方法。”

-  用 Java 语言编写的程序
- Java 编译器
- 与平台无关的特殊代码（字节码）
- JVM
- 机器 代码

“Java 编译器不会将所有类都编译成一个机器代码程序。相反，它会独立编译每个类，而且不是编译成机器代码，而是编译成特殊的中间代码（字节码）。当程序启动时，该字节码被编译成机器代码。”

“那么，当程序执行时，是谁将其编译成机器码的呢？”

“有一个特殊的程序叫做 Java 虚拟机 (JVM)。当你需要运行一个字节码程序时，该虚拟机必须先启动。在程序执行之前，JVM 会将字节码编译成机器代码。”

“真有趣。但这有必要吗？”

**“这是一种非常强大的方法，也是 Java 语言占据统治地位的原因之一。”**

“这种方法可让用 Java 语言编写的程序几乎能在任何设备上运行：计算机、智能手机、自动取款机、烤面包机，甚至信用卡！”

“太酷了！”

“这种方法有很多优点。这就是为什么所有安卓系统程序都是用 Java 语言编写。由于手机行业的快速发展，Java 语言在以下编程领域已占据了主导地位：

1) 企业：大量基于服务器应用程序的银行、公司、投资基金等。

2) 移动端：借助安卓系统的移动开发（智能手机，平板电脑）。

3) Web 端：PHP 语言处于领先地位，但 Java 语言已稳固地占据了市场的一定份额。

4) 大数据：由数千台服务器组成的集群中的分布式计算。

5) 智能设备：用于智能家居、电子设备、物联网冰箱等的程序。”

“Java 不仅仅是一种语言，更是一个生态系统：你可以在自己的程序中使用数以百万计的现成模块；成千上万的在线社区和留言板，你可以在此获得帮助或建议。”

“你用 Java 语言编写的程序越多，就越清楚‘为什么要选择 Java？’这个问题的答案。今天就讲到这里。”

“谢谢您，教授。这真的很有趣，令人兴奋。”

## java组成介绍

“你好，我的年轻朋友。我希望你没有忘记我是第 16 代官僚。如果我没有把我所有的知识系统化，我就不会有今天的成就。我有很多有用的知识。我会帮你做一些任务。首先，让我介绍一个典型的 Java 程序。”

“我在听讲呢。”

“第一个事实。Java 程序由类组成。每个类都存储在一个单独的文件中，其文件名称与类名一致。该文件的扩展名为 ***java***。”

“所以，一个程序由一系列带有‘java’文件扩展名的文件组成，每个文件只包含一个类的代码，对吗？”

“完全正确，阿米戈。如果一个文件名为 MyCat.java，则它包含 MyCat 类。”

“第二个事实。当我们有许多类文件时，我们会将它们分组到文件夹和子文件夹中。此外，类还会被分组到包和子包中。包和子包的名称必须在类代码中指定，并且这些名称必须与驱动器上的文件夹和子文件夹名称相同。”

“因此，一方面，我们把文件存储在文件夹中，另一方面，类被存储在包中。一个类名还必须与描述该类的文件的名称一致。包名称要与存储该类的文件夹的名称一致。”

“你能告诉我更多细节吗？”

“嵌套包的名称用句点分隔，类似于一个链接。”

“换句话说，假设你有一个名为 Cat 的类，存储在 **animals.pets** 包中。这意味着：

硬盘中存在一些文件夹（我们称之为 **src**），其中存储了所有项目文件。

其中包含一个名为 **animals** 的文件夹，而该文件夹又包含**一个名为 pets** 的子文件夹。

**该 pets** 文件夹包含一个 **Cat**.java 文件，该文件又包含 **Cat** 类的代码。”

“我不太明白你的意思。”

“是这样的。类和包的结构反映了驱动器上文件夹和文件的结构。如果我们有一个名为 House.java 的文件，其存储在 src**/com/houses** 文件夹中， 那么就存在一个名为 House 的类，其存储在 com.houses 包中。”

“明白了。”

“你似乎学得很快。让我们来看一下屏幕。这是一个小类的代码。我已经标记了所有关键部分：”

```java
        包名称
package com.futujava.lesson2;
import java.io.IOException;
/**
 * 用户名：普通
 * 日期：12/21/12
 * 时间：11:59
 */
             类名
public class Task1
{
                                                              ⎤
   private static String TEXT = "别开玩笑了";⎥ 类变量
                                                              ⎦
                                                                ⎤
   public static void main(String[] args) throws IOException     ⎥
   {                                                            ⎥
      SCREEN OUTPUT                    单行注释      ⎥
      System.out.println(TEXT); //显示单个字符串       ⎥
        多行注释                                       ⎥
      /*                                                        ⎥
        这是一个多行注释。                           ⎥
        下面的代码将显示三个相同的字符串。    ⎥ main() 方法
       */                                                       ⎥
      变量声明                                      ⎥
      String s = "呵呵呵";                                   ⎥
      方法调用                                               ⎥
      printTextMoreTimes(s, 3);                                 ⎥
   }                                                            ⎥
                                                                ⎦
                                          方法参数   ⎤
   public static void printTextMoreTimes(String s, int count) ⎥ 方法签名
                                                              ⎦
                                                                ⎤
   {                                                            ⎥
      循环                                                      ⎥
      for (int i = 0; i < count; i++)                           ⎥
      循环体                                                 ⎥ 方法体/方法代码
      {                                                         ⎥
         System.out.println(s);                                 ⎥
      }                                                         ⎥
   }                                                            ⎥
                                                                ⎦
}
```

“嘿，只要解释一遍就明白了。”

“好！这就是我们想要的。试着至少去理解一些东西。随着时间的推移，你会完整理解。现在，我要休息一下。其他人会继续为你提供培训。”

## 内存寻址和变量

“又是我的疏忽。我忘了介绍一些内容。现在我要告诉你有关变量和内存寻址的内容。我们不会讲得太深，但如果你能记住一些内容，那就太好了。”

“我喜欢你上课的方式：如果你理解了某些东西，那就太棒了。如果你什么都没听懂，那也没关系。”

“爱情不能强求。这是显而易见的。在你们的星球上不是这样吗？”

“不，我们有不同的方法。如果你愿意学习的话，那么就去学习吧；如果你不愿意学习的话，那么你也要去学习，尽管你并不情愿。”

“多么落后的学习方法啊！”这浪费了大量的精力和时间，结果却很糟糕。”

“我们完全在浪费。但我们不要谈论悲伤的事情了。”

“好的。让我们想象一下 Excel 软件大家都知道 Excel 软件。Excel 表格由单元格组成。每个单元格都有自己的唯一标识符 (A1、A2、…B1、B2)。如果你知道某一单元格的标识符，就总是可以向其中写入一些值，或者获取存储在其中的任何值。计算机内存的组织方式也与此非常相似。”

![image-zho-CN-01-25](https://codegym.cc/images/article/e4e8b7de-2c93-4d34-80fb-1d566d78fb76/800.webp)

“到目前为止，我一直在关注你。”

“程序运行时，程序和程序数据存储在内存中。所有的计算机内存都被分成小单元或字节。每个单元都有一个与之关联的唯一的标识符或编号：0、1、2、3、……（编号从 0 开始）。如果你知道某一单元的编号，那么你就可以将数据保存在其中。或者从中获取数据。有些单元会存储程序的代码，即处理器的命令集。其他单元会存储程序所使用的数据。每个单元的编号称为其地址。”

“教授已经给我讲过处理器和命令的内容了，但没有讲得很详细。”

“处理器知道如何执行加载到内存中的命令。几乎所有的处理器命令都类似于‘从某些单元中获取数据，对其执行某些操作，然后将结果发送给其他单元’。我们将数百个简单的命令组合起来，得到一些复杂而有用的命令。”

“但我为什么需要这些命令呢？”

“当在代码中声明变量时，系统会为其分配一些尚未使用的内存。这通常是几个字节。声明变量时需要指明程序将存储在其中的信息类型：数字、文本或其他数据。为方便起见，为每个变量分配一个唯一的名称。”

“这是否意味着一个变量是一个名称、类型、内存的一部分，也是一个值？”

“它将所有这些都融合在一起。让我们来看一些例子：”

|      | 代码                      | 说明                                                         |
| ---- | ------------------------- | ------------------------------------------------------------ |
| 1    | `String s;`               | 该行创建一个变量，其名称为 `s`。我们将其声明为 `String`，因为它将用于存储文本。 我们不能在同一个函数或类中声明另一个具有相同名称的变量。 |
| 2    | `String s2 = "我是迭戈";` | 该行创建了一个 String 变量，其名称为 `s2`，并立即赋值为`"我是迭戈"`。 |
| 3    | `int a;`                  | 此处我们创建了一个变量，其名称为 `a`。其数据类型与将存储在其中的内容相匹配。`int` 数据类型是整数这个词的缩写形式。 |
| 4    | `int b = 4;`              | 我们创建了一个变量，其名称为 `b`。它的数据类型 (`int`) 用于存储整数。数值 `4` 立即被分配给该变量。 |

## 介绍 int 和 String

“嗨，阿米戈。”

“你好，埃莉诺•凯瑞。”

“就叫我艾莉吧。没有必要这么正式。”

“好的，艾莉。”

“我相信在我的帮助下，你很快就会成为最优秀的学生之一。我有很多训练新手的经验。跟着我，一切都会进行的很好。好吧，让我们开始。”

“**Java 语言**中有两种主要类型：**String** 和 **int**。我们将字符串/文本存储在 String 中，将整数存储在 int 中。要声明一个新变量，需要指定它的类型和名称。该名称不能与任何其他变量和/或函数的名称相同。”

| 代码示例 1： | 说明                                 |
| ------------ | ------------------------------------ |
| `String s;`  | 声明了一个变量 `s`。它可以存储文本。 |
| `int i;`     | 声明了一个变量 `i`。它可以存储整数。 |

“当你声明变量后，可以为其赋值。”

| 代码示例 2：         | 说明                           |
| -------------------- | ------------------------------ |
| `String s = "艾莉";` | 变量 `s` 存储字符串 `"艾莉"`。 |
| `int i = 5;`         | 变量 `i` 存储数值 5。          |

“要为变量赋一个新值，我们要使用 `=` 符号。它也被称为**‘赋值运算符’**。赋值是指将另一个变量的值或由多个变量计算的值放入一个变量中。”

| 代码示例 3：     | 说明                   |
| ---------------- | ---------------------- |
| `int a = 5;`     | 变量 `a` 存储数值 5。  |
| `int b = 6;`     | 变量 `b` 存储数值 6。  |
| `int c = a + b;` | 变量 `c` 存储数值 11。 |

“一个变量的值可以用来计算一个将替代旧值的新值。”

| 代码示例 4： | 说明            |
| ------------ | --------------- |
| `int a = 2;` | 现在 `a` 等于 2 |
| `int b = 3;` | 现在 `b` 等于 3 |
| `a = a + b;` | 现在 `a` 等于 5 |
| `b = b + 1;` | 现在 `b` 等于 4 |

“你可以用 `+` 符号来合并字符串：”

| 代码示例 5：                                                 | 说明                             |
| ------------------------------------------------------------ | -------------------------------- |
| `String s1 = "西班牙"; String s2 = "的"; String s3 = s1 + s2 + "雨";` | 变量`s3`存储字符串`“西班牙的雨”` |

“有时，当字符串由一个或多个空格组成时，该方法可以派上用场：”

| 代码示例 6：                                                 | 说明                                       |
| ------------------------------------------------------------ | ------------------------------------------ |
| `String s1 = "我最喜欢的电影是"; String s2 = "美国公路"; int roadNumber = 66; String text = s1 + " " + s2 + " " + roadNumber;` | `text`存储`“我最喜欢的电影是 美国公路 66”` |

“让我们看看如何在屏幕上显示文本和变量：”

[![img](https://codegym.cc/images/article/dccc67bf-2cc7-45c5-b698-bd5a4c0a6e8b/800.webp)](https://codegym.cc/images/article/dccc67bf-2cc7-45c5-b698-bd5a4c0a6e8b/original.jpg)

|      | 代码示例 7：                                                 |
| ---- | ------------------------------------------------------------ |
| 1    | `System.out.println("男人必须做男人该做的事情");`            |
| 2    | `String s = "男人必须做男人该做的事情"; System.out.println(s);` |

## print() 和 println() 命令；

“嗨，还是我。今天我给你们上三节课。这是第二节课！别拘束，认真听讲。我将告诉你如何在屏幕上显示文本。其实很简单：”

| Java 语言代码                                                | 屏幕显示内容                                                |
| ------------------------------------------------------------ | ----------------------------------------------------------- |
| `System.out.**println**("迭戈"); System.out.**println**(3); System.out.**println**("西班牙" + "的" + "雨");` | `迭戈` `3` `西班牙的雨`                                     |
| `System.out.**println**(1 + 3); System.out.**println**("1" + "3"); System.out.**println**(1 + "3"); System.out.**println**("1" + 3); System.out.**println**("1" + (1 + 3));` | `4` `13` `13` `13` `14`                                     |
| `System.out.**println**("阿米戈是最棒的！"); System.out.**println**("阿米戈" + "是最棒的！"); System.out.**println**("阿米戈" + " " + "是最棒的！");` | `阿米戈 是最棒的！` `阿米戈是最 棒的！` `阿米戈 是最棒的！` |
| `System.out.**println**(3 * 3 + 4 * 4); System.out.**println**(1 * 2 + 3 * 4);` | `25` `14`                                                   |
| `System.out.**print**("迭戈"); System.out.**print**("迭戈"); System.out.**print**("迭戈");` | `迭戈迭戈迭戈`                                              |
| `System.out.**print**("迭戈"); System.out.**println**("是最 棒的！"); System.out.**print**("阿米戈 "); System.out.**println**("是最 棒的！");` | `迭戈 是最棒的！` `阿米戈 是最棒的！`                       |

“你能再给我讲一次 **print()** 和 **println()** 吗？”

“ **print()** 函数用于在屏幕上逐个字符显示文本。当屏幕上某一行没有足够空间时，文本开始在下一行显示。你可以使用 **println()** 函数停止在当前行上显示文本，即使该行还有显示空间。随后的文本将显示在下一行。”

“好的。添加数字和字符串有什么诀窍？”

“如果你对两个数字求和，其结果也是一个数字：2+2 等于 4。如果你添加一个数字和一个字符串，则该数字将转换为一个字符串。然后这两个字符串就直接连在一起。”

“哦！这是我看过一些例子后的想法，但谁知道呢。艾莉，谢谢你上了这堂有趣的课。”

“不客气。最后，这里有一些迭戈提出的任务。他想让我检查你的学习进展。”

## 与 Pascal 语言比较

“嗨。我的名字是拉加•比拉博 (Laga Bilaabo)。我是外星人，也是这艘飞船的医生。我希望我们能成为好朋友。”

“我也是。”

“在我的家乡，我们使用高级 Pascal 编程语言，而不是落后的 Java 语言。看看 Java 和 Pascal 语言代码的并排比较：”

| Java 语言                                                    | Pascal 语言                                                  |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| `public class MyFirstClass {   public static void main(String[] args)   {      int a, b, c;      String s1, s2;      System.out.println("输入两个数字");      a = new Scanner(System.in).nextInt();      b = new Scanner(System.in).nextInt();      c = a + b;      System.out.println("总和为" + c);   } }` | `**Program** MyFirstProgram; **Var**   a, b, c:Integer;   s1, s2:String; Begin   WriteLn("输入两个数字");   ReadLn(a);   ReadLn(b);   c := a + b;   WriteLn("总和为", c); End.` |

“这是用两种不同语言编写的同一个程序。正如你所看到的，Pascal 语言代码行数更少，这证明 Pascal 语言优于 Java 语言。”

“我认为如果你以前见过 Pascal 语言，那么这个例子可能会有助于你更好地理解 Java 语言。”

“不，我之前没有见过。但是，比较两种编程语言仍然很有趣。”

“很好。我继续讲。”

“在 Pascal 语言中，我们将代码放在程序体、过程或函数中。在 Java 语言中，这个过程被简化：程序体、过程和函数都被称为方法的函数所替换。”

| Java 语言                                                    | Pascal 语言                                                  |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Main 方法`public static void main(String[] args) {   System.out.println("Ho-ho-ho!"); }` | 程序体`Begin   WriteLn("Ho-ho-ho!"); End.`                   |
| 函数/方法`double sqr(double a) {   return a * a; }`          | 函数`Function Sqr(a:Real):Real Begin   Sqr := a * a; End;`   |
| 具有 void 返回类型的函数`void doubleWrite(String s) {   System.out.println(s);   System.out.println(s); }` | 过程`**Procedure** DoubleWrite(s:String); Begin   WriteLn(s);   WriteLn(s); End;` |

“在 Pascal 语言一列中，我看到了‘程序体’、‘函数’和‘过程’，但是在 Java 语言中它们都被称为方法。这有点奇怪。”

“是的，我们外星人觉得这很奇怪。但人类喜欢将所有东西统一化。”

“在 Java 语言中，所有代码都是方法的一部分，因此你甚至不需要**像在 Pascal 语言那样书写 Function 一词来声明一个方法。**”

“一切都很简单。如果某一行代码看起来像**类型 + 名称**，这是在声明一个方法或一个变量。如果名称后面跟着圆括号，那么这是在声明一个新方法。如果后面没有括号，那么这是在声明一个变量。”

“在 Java 语言中变量和方法的声明非常相似。请自己看看：”

| 代码                   | 说明                                          |
| ---------------------- | --------------------------------------------- |
| `String name;`         | 变量名称为 `name`，它是一个 `String`。        |
| `String getName() { }` | 方法名称为 `getName`，它会返回一个 `String`。 |

“但这还不是全部。在 Java 语言中，方法不能单独存在。它必须在一个类中。因此，当人类需要用 Java 语言编写一个小程序时，他们必须首先创建一个类，在其中声明一个 main 方法，**只有这样** 才可以在**该方法中**编写代码。这些地球人太奇怪了！”

“迭戈今天早些时候来过，让我给你这些任务来完成。我希望你喜欢这些作业。”

# java对象

## 对象交互

“嗨，阿米戈。今天，我要给你介绍一个典型的 Java 语言程序。重大消息是，用 Java 语言编写的每个程序都由类和对象组成。”

“我已经知道什么是类。那么对象是什么呢？”

“让我们从一个比喻开始。假设你要造一艘小船。你首先进行设计，接着将蓝图发送给工厂，然后在工厂根据你的设计组装船只。可以是十几艘船，也可以是你所需要的任意数量的船。我的意思是，可以根据一副蓝图建造出数十艘相同的船只。”

“这正是 Java 的工作方式。”

“Java 程序员就像设计工程师一样，只是他们不制作蓝图，而是编写类。船舶零件是根据蓝图制造的，而对象是基于类创建的。”

“首先，我们编写类（制作蓝图）。然后，当程序运行时，Java 机器将基于这些类创建对象。就像根据蓝图建造船只一样。一幅蓝图 – 许多船只。这些船是不同的。它们具有不同的名称并运载不同的货物。但它们仍然是相似的。它们都具有相同的设计，并且能够执行相似的任务。”

“好的，我明白你关于船只的比喻了。你能再给出几个比喻，从而确保我能理解你的意思吗？”

“我们来拿蜜蜂作比喻...”

[![对象交互 - 1](https://codegym.cc/images/article/5b4aa793-cf31-4124-b324-4d8ddd1ee03e/original.jpeg?size=0)](https://codegym.cc/images/article/5b4aa793-cf31-4124-b324-4d8ddd1ee03e/original.jpeg)

“不，忽略这个。关于蜜蜂我有过糟糕的经历。我们拿蚂蚁举例吧。”

“蚁群是对象交互的一个很好的例子。何蚁群都由三类蚂蚁组成：蚁后、兵蚁和工蚁。每个类别中的蚂蚁数量各不相同。通常，一个蚁群只有一个蚁后、数十名兵蚁和数百名工蚁。三个类，数百个对象。蚂蚁在跟同类蚂蚁和其他类蚂蚁互动时，遵守严格的规则。”

“这是一个完美的例子。典型的程序就是这样工作的。有一个在所有类中创建对象的主对象。这些对象彼此交互，并与外部世界进行交互。对象的行为在内部进行了硬绑定（编程）。”

“我不太明白。我的意思是，我一点也不明白。”

“这两种解释相当于一枚硬币的两个面。真相介于两者之间。第一个例子（关于蓝图和船只）向我们展示了类及其对象之间的联系。这是一个很有说服力的比喻。蚁群比喻证明了对象之间的关系，这些对象通过类来描述，并且仅在程序运行时存在。”

“你的意思是，我们需要为程序中使用的所有对象编写类，然后描述它们之间的交互作用？”

“是的，但是这比听起来容易。在 Java 中，当程序运行时，所有实体都是对象。编写程序相当于描述对象可以交互的各种方式。对象只是调用彼此的方法并将所需数据传递给这些方法。”

“这有点模糊，但我觉得差不多明白了。”

“我们如何知道调用哪些方法以及传递哪些数据？”

“每个类都有一个声明，指出其预期用途。同样，每个方法也都有一个声明，指出它可以做什么以及我们需要传递给它什么数据。要使用类，你需要对它的用途有一个大致的了解。你需要知道每个方法的确切用途，但无需确切知道它的工作方式。这就像魔杖一样。”

“嗯！听起来不错。”

“看这里。来看看用于复制文件的类的代码：”

复制 c:\data.txt to c:\result.txt



```java
package com.codegym.lesson2;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;

public class FileCopy
{
    public static void main(String[] args) throws IOException
    {
        FileInputStream fileInputStream = new FileInputStream("c:\data.txt");
        FileOutputStream fileOutputStream = new FileOutputStream("c:\result.txt");

        while (fileInputStream.available() > 0)
        {
            int data = fileInputStream.read();
            fileOutputStream.write(data);
        }

        fileInputStream.close();
        fileOutputStream.close();
    }
}
```

“我不能说我完全明白了，但我觉得我已经掌握了它的本质。”

“太好了。下次课再见。”

“我差点忘了。这是迭戈给你布置的任务。”

## 原始数字类型

“嗨，无薪工人。”

“我是说…你好，阿米戈！我想向你介绍变量的内部结构。如你所知，每个变量都与存储其值的内存区域关联。”

“是的。你上次告诉过我。”

“太好了。你能记住真是不错。那我继续。”

“所有复合类型都由较简单的类型组成。而较简单的类型又由更简单的类型组成。直到最后，我们得到无法进一步简化的**原始类型**。因此称之为 – **原始类型**。例如，**int** 是原始类型，但 **String** 是将数据以字符表方式存储的复合类型（其中每个字符是原始类型 **char**）。”

“非常有趣。继续。”

“复合类型是通过对简单类型进行分组而形成的。我们将这种类型称为类。当我们在程序中定义一个新类时，我们声明一个新的复合数据类型。其数据要么是其他复合类型，要么是原始类型。”

| Java 语言代码                                                | 说明                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| `public class Person {   String name;   int age; }`          | 声明一个新的复合类型 – `Person`。 其数据存储在 `String`（复合类型）变量 name 和（原始类型）`int` 变量 `age` 中 |
| `public class Rectangle {   int x, y, width, height; }`      | 声明一个新的复合类型 – `Rectangle`。 它由四个 `int`（原始类型）变量组成。 |
| `public class Cat {   Person owner;   Rectangle territory;   int age;   String name; }` | 声明一个新的复合类型 – `Cat`。它具有以下变量： — `owner`，复合类型 `Person` — `territory`，复合类型 `Rectangle` — `age`，原始类型 `int` — `name`，复合类型 `String` |

“到目前为止，一切都很清楚，但看起来可能有点奇怪。”

“大（复合）类型包含许多小（原始）类型。这正是这些类型的对象占用大量内存的原因 - 超出原始类型的变量。有时甚至更多。使用此类变量执行赋值操作通常会花很长时间，并且需要复制大部分内存。这就是复合类型的变量不存储对象本身，而只存储对象引用（即对象的四字节地址）的原因。这样做足以处理此类对象中的数据。Java 机器处理所有相关的复杂性。”

“我完全不明白。”

“我们以前说过，一个变量就像一个盒子。如果你想在盒子中存储数字 13，你可以在一张纸上写下 13 并将其放入盒子中。”

“但是想象一下，你需要在盒子（变量）中存储更大的东西。例如，狗、汽车或你的邻居。不要尝试将不可推动的物体推入盒子，你可以做得更轻松：用狗的照片代替实际的狗，用车牌代替真实的汽车，或者用邻居的电话号码代替邻居。”

“我们拿一张纸，写下邻居的电话号码。这就像对象的引用。如果我们复制写有邻居电话号码的纸并将其放入几个盒子，则现在有更多对你邻居的引用。但是，像以前一样，你仍然只有一个邻居。这样说没错，对吧？”

“以这种方式存储数据的一个重要特性就是你可以拥有对一个对象的多个引用”

“太有趣了！我基本上明白了。请再告诉我一次 – 如果将一个复合类型的变量赋给相同复合类型的另一个变量会发生什么？”

“那样的话，这两个变量将存储相同的地址。这意味着，如果更改一个变量所引用的对象的数据，则会更改其他变量所引用的数据。两个变量引用**同一个对象**。当然，可能还有许多其他变量也存储该对象的引用。”

“如果复合（引用/类）类型的变量不包含对某个对象的引用，它们将做什么？有这种可能吗？”

“是的，阿米戈。你已经超前提问了。这是可能的。如果引用（复合）类型的变量未存储某个对象的引用，它将存储所谓的‘null 引用’。大致说来，这意味着它引用地址为 0 的对象。但是，Java 机器从不使用此地址创建对象，因此它始终知道，如果引用变量包含 0，则它不指向任何对象。”

| Java 语言代码                                                | 说明                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| `String s; String s = null;`                                 | 等效语句。                                                   |
| `Person person; person = new Person(); person = null;`       | 我们创建值为 null 的 person 变量。 我们将新创建的 Person 对象的地址赋给该变量。 我们将 null 赋给该变量。 |
| `Cat cat = new Cat(); cat.owner = new Person(); cat.owner.name = "上帝";` | 我们创建 Cat 对象，并将其地址存储在变量 cat 中；cat.owner 等于 null。 我们将 cat.owner 设置为等于新创建的 Person 对象的地址。 cat.owner.name 仍然等于 null。 我们将 cat.owner.name 设置为等于“上帝” |

“我的理解正确吗？变量分为两种类型：原始类型和引用类型。原始类型直接存储值，而引用类型存储对象的引用。原始类型包括 int、char、boolean 和许多其他类型。引用类型包括其他所有类型。我们使用类来创建它们。”

“你说的完全正确，小伙子。”

“嗯，你说你已经完全明白了。这里有一些任务，可以帮助你增强对知识的理解。”

## 创建对象

“嗨，你最喜欢的老师又来了。由于你取得了这么大的进步，所以我决定向你讲讲对象以及如何使用对象。”

“要创建对象，你需要键入关键字‘new’，后跟其类型名称（类名）。例如，假定我们有一个名为‘Cat’的类：”

| 代码                                                         | 说明                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| `Cat cat;`                                                   | 声明名为 cat 的 Cat 引用变量。变量 cat 的值为 null。         |
| `new Cat();`                                                 | 创建 Cat 对象。                                              |
| `Cat cat = new Cat();`                                       | 创建名为 cat 的 Cat 引用变量。 创建新的 Cat 对象。将对新创建的对象的引用赋给变量 cat。 |
| `Cat kitty = new Cat(); Cat smokey = new Cat();`             | 创建两个对象。将对这两个对象的引用赋给两个不同的变量。       |
| `Cat kitty = new Cat(); Cat smokey = new Cat(); smokey = kitty;` | 创建两个对象。将对这两个对象的引用赋给两个不同的变量。然后，我们将变量 smokey 设置为等于对变量 kitty 所引用的对象的引用。两个变量现在都引用最先创建的对象。 （由于任何地方都不再引用第二个对象，因此它现在被视为垃圾） |
| `Cat kitty = new Cat(); Cat smokey = null; smokey = kitty; kitty = null;` | 创建一个 Cat 对象，并将其引用赋给第一个变量 (kitty)。第二个变量 (smokey) 存储一个空 (null) 引用。两个变量引用同一个对象。现在，只有 smokey（而不是 kitty）引用对象。 |

## 变量的可见性

“你好，我最喜欢的学生。现在，我要向你介绍变量的可见性。”

“嗯？变量可以隐身吗？”

“不。变量的‘可见性’（或作用域）是指代码中可以引用该变量的位置。你可以在程序中的任意位置使用某些变量，但其他某些变量只能在其类中使用，还有一些变量只能在一种方法中使用。”

“例如，在声明变量之前不能使用它。”

“有道理。”

“下面是几个示例：”

```java
┏
┃public class Variables
┃┏
┃┏
┃┃   private static String TEXT = "结束。";
┃┃  ┗━━━━━━━━━━━━━━┛
┃┃   public static void main (String[] args)
┃┃ ┏                         ┗━━━━━━━┛
┃┃ ┃ {
┃┃ ┃    System.out.println("你好");
┃┃ ┃    String s = "你好！";
┃┃ ┃  ┏┗━━━━┛
┃┃ ┃  ┃ System.out.println(s);
┃┃ ┃  ┃ if (args != NULL)
┃┃ ┃  ┃ {
┃┃ ┃  ┃    String s2 = s;
┃┃ ┃  ┃   ┗━━━━┛
┃┃ ┃  ┃  ┏
┃┃ ┃  ┃  ┃ System.out.println(s2);
┃┃ ┃  ┃  ┗
┃┃ ┃  ┃ }
┃┃ ┃  ┃ Variables variables = new Variables();
┃┃ ┃  ┃ System.out.println(variables.instanceVariable);
┃┃ ┃  ┃ System.out.println(TEXT);
┃┃ ┃  ┗
┃┃ ┃ }
┃┃ ┗
┃┃   public String instanceVariable;
┃┃  ┗━━━━━━━━━━━━━━━┛
┃┃   public Variables()
┃┃   {
┃┃      instanceVariable = "实例变量测试。";
┃┃   }
┃┃}
┃┗
┗
```

1.在方法中声明的变量从其声明开始到方法结束一直存在（可见）。

2.在代码块中声明的变量在代码块结束之前一直存在。

3.方法的参数在该方法中随处可在。

4.对象中的变量在包含它们的对象的整个生命周期中都存在。变量的可见性也可以由特殊的访问修饰符定义：**public** 和 **private**。

5.static（类）变量在程序运行的整个过程中都存在。变量的可见性也可以由访问修饰符定义。

“我喜欢图片。它们使一切变得清晰。”

“乖孩子，阿米戈。我一直觉得你是个聪明人。”

“我还要向你介绍‘访问修饰符’。别怕。它们一点都不复杂。在这里你会看到单词 **public** 和 **private**。”

“我不害怕。只是我的眼睛在抽搐。”

“我相信你。你可以管理其他类如何访问（或看到）某个类的方法和变量。你只能为每个方法或变量分配一个访问修饰符。

\1. **public** 访问修饰符。

你可以在程序中的任意位置使用标有 public 修饰符的变量、方法或类。这是最高的访问级别 – 这里没有任何限制。

\2. **private** 访问修饰符。

对于标有 private 修饰符的变量或方法，你只能从声明该变量或方法的类中使用它们。对于所有其他类，标记的方法或变量将不可见，就像不存在一样。这是最高的封闭级别 – 只能在它自己的类中访问。

3.无修饰符。

如果变量或方法未标有任何修饰符，则被视为标有“默认”访问修饰符。此类变量和方法对于声明它们的包中的所有类都是可见的。并且仅对这些类可见。这种访问级别有时称为“**package-private**”访问，因为对这些变量和方法的访问对于包含其类的整个包是开放的。

下表总结了我们讨论的内容：”

|             修饰符             | 访问位置... |        |      |
| :----------------------------: | :---------: | :----: | ---- |
|            自己的类            |  自己的包   | 任意类 |      |
|          **private**           |     是      |   否   | 否   |
| 无修饰符 (**package-private**) |     是      |   是   | 否   |
|           **public**           |     是      |   是   | 是   |

## 创建变量的不同方法

“嗨，兄弟。为了以防万一，我为你制作了一份合同副本。幸好里希那个小气鬼不知道。你应该在我的合同中看到那些数字。哈哈！”

“干的好，迭戈。我想我会从你这里学到很多东西。”

“当然了，阿米戈。世界上有太多愚蠢的人想不劳而获。但是，还有更多准备免费工作的白痴。”

“好吧，让我们回到课堂上来。现在，我要教你几种创建变量的方法：”

| 示例                                        | 说明                                                         |
| ------------------------------------------- | ------------------------------------------------------------ |
| `String s1 = new String(); String s2 = "";` | 创建两个相同的空字符串。                                     |
| `int a;`                                    | 创建一个 `int` 变量；                                        |
| `int a = 5;`                                | 创建一个名为 a 的 `int` 变量，并将其值设置为等于 `5`         |
| `int a = 5, b = 6;`                         | 创建一个名为 `a` 的 `int` 变量，并将其值设置为等于 `5` 创建一个名为 `b` 的 `int` 变量，并将其值设置为等于 `6` |
| `int a = 5, b = a + 1;`                     | 创建一个名为 `a` 的 `int` 变量，并将其值设置为等于 `5` 创建一个名为 `b` 的 `int` 变量，并将其值设置为等 `6` |
| `Date date = new Date();`                   | 创建日期对象。将它初始化为当前的日期和时间。                 |
| `boolean isTrue = true;`                    | 将 `boolean` 变量初始化为 `true`                             |
| `boolean isLess = (5 > 6);`                 | 将 `false` 赋给 `isLess` 变量。`Boolean` 变量只接受值 true 和 false。 |

“太酷了，迭戈！你总是能让一切都变得如此清晰。”

“哈哈！谢谢你，阿米戈。”

“顺便说一句，我又为你准备了几道练习题。做的怎么样了？”

“他们并不太难，有些还很有趣。”

## 引用变量

“嗨，阿米戈，还是我，艾莉。很抱歉一遍又一遍地这么说，但这是 31 世纪地球上的表达习惯。我想为你提供有关引用变量以及将引用变量传递给函数（方法）的更多详细信息。”

“我准备好了。”

“太好了，那我们开始吧。引用变量是所有的非原始变量。这些变量只包含对象引用（指向对象的引用）。”

“原始变量包含值，而引用变量存储对象的引用或 null。我讲得对吗？”

“完全正确。”

“什么是引用？”

“对象与对象引用之间的关系就像一个人与其电话号码之间的关系一样。电话号码不是那个人，但可用于给该人打电话，询问一些信息，管理她或下达命令。引用也用于处理对象。所有对象都使用引用彼此交互。”

“就像他们之间在通电话吗？”

“没错。为原始变量赋值时，将复制该值。如果为引用变量赋值，则只复制对象的地址（电话号码）。对象本身不会被复制。”

“好的，我明白了。”

“引用还有一个好处：你可以将对象引用传递给任意方法，然后方法能够使用该引用，通过调用对象的方法并访问对象内部的数据来修改（更改）对象。”

| 示例 1 此处的值 m 和 n 不会发生变化。`public class References {  public static void main (String[] args)  {    int m = 5;    int n = 6;     System.out.println("M=" + m + " N=" + n);    swap(m, n);    System.out.println("M=" + m + " N=" + n);  }   private static void swap(int a, int b)  {    int c = a;    a = b;    b = c;  } }` | 这就是原因所在。 此代码类似于左侧的代码`public class References {  public static void main (String[] args)  {    int m = 5;    int n = 6;     System.out.println("M=" + m + " N=" + n);    int a = m, b = n;     int c = a;    a = b;    b = c;     System.out.println("M=" + m + " N=" + n);  } }` |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
|                                                              |                                                              |

“只是把值 5 (m) 和 6 (n) 分别赋给变量 a 和 b；a 和 b 完全不知道（也不会以任何方式影响）m 和 n。”

“说实话，我现在发现我完全没听懂。你能再给我举几个例子吗？”

“使用对象引用，我们可以完成以下操作：”

| 示例 2 在此代码中，对象的数据将发生变化`public class Primitives {  public static void main(String[] args)  {    Student jen = new Student();    jen.name = "珍";    jen.age = 21;     Student beth = new Student();    beth.name = "贝丝";    beth.age = 15;     System.out.println("珍的年龄为 " + jen.age);    System.out.println("贝丝的年龄为 " + beth.age);     ageSwap(jen, beth);     System.out.println("珍的年龄为 " + jen.age);    System.out.println("贝丝的年龄为 " + beth.age);  }   private static void ageSwap(Student a,                                    Student b)  {    int c = a.age;    a.age = b.age;    b.age = c;  }   static class Student  {    String name;    int age;  } }` | 这就是原因所在。 此代码类似于左侧的代码`public class Primitives {  public static void main(String[] args)  {    Student jen = new Student();    jen.name = "珍";    jen.age = 21;     Student beth = new Student();    beth.name = "贝丝";    beth.age = 15;     System.out.println("珍的年龄为 " + jen.age);    System.out.println("贝丝的年龄为 " + beth.age);     Student a = jen, b = beth;     int c = a.age;    a.age = b.age;    b.age = c;     System.out.println("珍的年龄为 " + jen.age);    System.out.println("贝丝的年龄为 " + beth.age);  }     static class Student  {    String name;    int age;  } }` |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
|                                                              |                                                              |

“分别将对 jen 和 beth 的引用赋给变量 a 和 b；a 和 b 更改对象 jen 和 beth 内部的值。”

“你可以在一个类的内部声明其他类，对吗？太酷了！”

“但是我对其他所有内容还是不太理解。”

“总有一天你会彻底搞明白的。”